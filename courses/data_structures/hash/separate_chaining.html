<!--
  ChaoHui Zheng
  12/24/2020
-->
<!DOCTYPE html>
<html>
<head>

  <title></title>
  <link rel="stylesheet" href="../../../style/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <style type="text/css">
    input[type = "number"]{
      width: 70px;
    }
    #insert, #delete, #find {
      width: 55px;
    }  
  </style>
  
</head>
<body>
   <div class = "grid-container">
    <div class = "header">Hash Tables - Separate Chaining</div>
    <div class = "control"> 

      <input type = "number" id = "table_size" placeholder="size" min = 5 max = 20 value = 10>
      <button type="button" id = "init" >Initialize Hash Table</button>  &emsp;&emsp;
 
      <input type = "text" id = "key" placeholder="number">
      <button type="button" id = "insert">Insert</button> 
      <button type = "button" id = "delete">Delete</button>
      <button type = "button" id = "find">Find</button> &emsp;&emsp;

      
      <div class = "line"></div>
      
      <div class = "animation-control">
        <button type="button" id = "go_back" disabled>Go Back</button>&emsp;
        <button type="button" id = "go_forward" disabled>Go Forward</button>&emsp;&emsp;
        Step-by-Step Animation<input type="checkbox" id="step_by_step">&emsp;&emsp;
        Animation Speed&emsp;<input type="range" min="0" max="100" value="50" id="speed"> 
      </div>

      <div class = "elaboration">
        <div class = "main-elaboration">Elaboration: <span id = "elaboration_text"></span></div>
      </div>
    </div>

    <div class = "canvas"> 
       <canvas id = "draw"></canvas>
    </div>
    <div class = "bottom-nav">
      <button id = "script">Script</button>
    </div>
  </div>
  
</body>

<script src="../../../lib/drawing.js"></script>
<script src="../../../lib/memory_generator.js"></script>
<script src="../dlist/dlist.js"></script>
<script src="separate_chaining.js"></script>
<script src="../../../lib/canvas_helper.js"></script>
<script type="text/javascript">



function input_check() {
  return true;
  let val = $("#key").val();
  val = parseFloat(val);
  if (isNaN(val)) {
    $("#elaboration_text").text("Input is not a valid number");
    return false;
  }
  return true;
}

$(document).ready(function(){
  


  set_canvas(1200, 800, 30, 30);
  
  MAIN_A = new scHashAnimation(); 


  D_ANIMATION_TIME = 100 - $("#speed").val();
  
  


  $("#init").click(function(){
    let size = $("#table_size").val();
    size = parseInt(size);
    if (isNaN(size) || size <= 0 || size >= 30) {
       $("#elaboration_text").text("Table size must > 0 and <= 30");
    } else {
      MAIN_A = new scHashAnimation(size);
    }
  })
  $("#init").click();
 
  $("#insert").click(function() {
    if (input_check()) MAIN_A.insert($("#key").val());
  })

  $("#find").click(function() {
    if (input_check()) MAIN_A.find($("#key").val());
  })

  $("#delete").click(function() {
    if (input_check()) MAIN_A.delete($("#key").val());
  })


});

</script>

<script src="../../../lib/control.js"></script>
<script src="../graph_creator/graph_creator.js"></script>
</html>