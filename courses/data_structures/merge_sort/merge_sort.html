<!DOCTYPE html>
<html>
<head>

  <title></title>
  <link rel="stylesheet" href="../../../style/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
   <div class = "grid-container">
    <div class = "header">Merge Sort</div>
    <div class = "control"> 

      array <input type="text" id="array" placeholder="enter values separated by space" style = "width: 500px; height:25px; font-size:20px"> 

      <button type="button" id = "run">run</button>
      <div class="line"></div>

      <div class = "animation-control">
        <button type="button" id = "step_back">Step Back</button>&emsp;
        <button type="button" id = "step_forward">Step Forward</button>&emsp;&emsp;
        step by step animation<input type="checkbox" id="step_by_step">&emsp;&emsp;
        animation speed&emsp;<input type="range" min="0" max="90" value="0" id="speed"> 
      </div>

      <div class = "elaboration">Elaboration: <span id = "elaboration_text" style="color:red"></span> </div>
    </div>

    <div class = "canvas"> 
       <canvas id = "draw"></canvas>
    </div>
  </div>

  
</body>

<script src="../../../lib/drawing.js"></script>
<script src="../../../lib/memory_generator.js"></script>
<script src="merge_sort.js"></script>
<script src="../../../lib/canvas_helper.js"></script>
<script type="text/javascript">


$(document).ready(function(){
  
  set_canvas(1200, 800, 150, 50);

  var v = [21,35,12,9,4,56,3,5,10,34,21];
  a = new mergeSortAnimation(deep_copy(v)); //must use name a


  $("#run").click(function() {

    let str = $("#array").val();
    let d;
    let v1 = v;
    str = str.split(/[ ,]+/);
   
    v = [];
    for (let i = 0; i < str.length; i++) {
      d = parseFloat(str[i]);
      if (!isNaN(d)) v.push(d);
    }
    
    
    if(v.length == 0) v = v1;
    else if(v.length <= 2) {
      v = v1;
      a.ani.elaboration.text("array size must be > 2");
      return;
    }

    if (v.length != 0) {
      a = new mergeSortAnimation(deep_copy(v));
      a.ani.step_by_step = $("#step_by_step").is(":checked");
      a.run_animation();
    }
  })



});

</script>

<script src="../../../lib/control.js"></script>

</html>