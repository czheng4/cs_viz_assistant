<!--
  ChaoHui Zheng
  12/26/2020
-->
<!DOCTYPE html>
<html>
<head>

  <title></title>
  <meta charset="UTF-8"> 
  <link rel="stylesheet" href="../../../style/style.css">
  <script src="../../../lib/jquery.js"></script>
  <style type="text/css">
    input[type = "number"]{
      width: 80px;
    }
    #cache_table td{
      padding: 5px 13px 5px 13px;
      text-align: center;
    }
    #cache_table th{
      padding: 5px 13px 5px 13px;
      text-align: center;
      background: #DFDFDF;
    }
   
    #cache_table tr:first-child th {
      border-left: hidden;
      border-right: hidden;
      border-top: hidden;
      color: red; 
      font-size: 17px; 
      font-weight: bold;
      background: white;
    }

    #cache_table tr td:first-child {
      background: #DFDFDF;
    }
   
   
  </style>
  
</head>
<body>
   <div class = "grid-container">
    <div class = "header"><span class = "logo"><img src="../../../images/logo.png"></span> Longest Common Subsequence</div>
    <div class = "control"> 

      <label for="string1">String 1: </label>
      <input type = "text" id = "string1" placeholder="string1" value = "XMJYAUZ">
      <div class = "line"></div>
      <label for="string1">String 2: </label>
      <input type = "text" id = "string2" placeholder="string2" value= "MZJAWXU">

      <button id = "run">Run</button> &emsp;&emsp;

      <div class = "line"></div>
      
      <div class = "animation-control">
        <button type="button" id = "go_back" disabled>Go Back</button>&emsp;
        <button type="button" id = "go_forward" disabled>Go Forward</button>&emsp;&emsp;
        Step-by-Step Animation<input type="checkbox" id="step_by_step">&emsp;&emsp;
        Animation Speed&emsp;<input type="range" min="0" max="100" value="80" id="speed"> 
      </div>

      <div class = "elaboration">
        <div class = "main-elaboration">Elaboration: <span id = "elaboration_text"></span></div>
      </div>
    </div>


    <div class = "canvas"> 
      <div class="tooltip">?
        <span class="tooltiptext" id ="english">
          <div>
            <span class="red">Longest Common Subsequence: </span>Given two strings, It finds the longest subsequence of them.
          </div>
          
          <div>
            <span class="red">Recursive Approach: </span> we define a function <b>lcs(i, j)</b> where i and j is a index pointer to string 1 and string 2 respectively.
            <div style="position: relative;">
              <span style="top: -10px; position: relative;"> lcs(i, j) = </span>
              <span style="font-size:50px;">{</span>
              <span style="position: absolute;"> 0&emsp; i < 0 or j < 0</span>
              <span style="position: absolute; top: 23px"> lcs(i - 1, j - 1)&emsp; str1[i] = str2[j]</span>
              <span style="position: absolute; top: 46px"> Max(lcs(i - 1, j), lcs(i, j - 1))&emsp; otherwise</span>
            </div>
          </div> 
          <div style="margin-top: 10px">
            <span class="red">Memoization: </span> We use a table to store key-value pairs where the key is n, and the value is fib(n). If key is in the table, we can return instantly.
          </div>

         
        </span>
        <span class="tooltiptext" id ="chinese">
            
        </span>
      </div>
      <canvas id = "draw" style="position: absolute;"></canvas>

      <div id ="board"  style="margin-left: 700px; margin-bottom: 50px; margin-top: 5px;">
        
        <table id = "cache_table" border = 1 style= "border-collapse: collapse;">
        </table>
      </div>
    </div>
    
    

    <div class = "bottom-nav">
      <button id = "script">Script</button>
    </div>
  </div>
  
</body>

<script src="../../../lib/drawing.js"></script>
<script src="lcs.js"></script>
<script src="../../../lib/canvas_helper.js"></script>
<script type="text/javascript">




$(document).ready(function(){
  
  $(document).on('keypress', ':input[type="text"]', function (e) {
    let size = $(this).val().length;
    if (size >= 9) return false;
    else return true;
  });

  set_canvas(650,620,0,0);
  D_ANIMATION_TIME = 100 - $("#speed").val();
  
  MAIN_A = new lcsAnimation("", "", true);
  ENABLE_STEP_IDS = ["#run", "input"];
  ENABLE_IDS = ["#run", "input"];
  $("#run").click(function() {
    let str1, str2;

    str1 = $("#string1").val();
    str2 = $("#string2").val();
    if (str1 == "" || str2 == "") {
      $("#elaboration_text").text("One of values is empty");
      return;
    }
   
    MAIN_A = new lcsAnimation(str1, str2);
  })


});

</script>

<script src="../../../lib/control.js"></script>

</html>